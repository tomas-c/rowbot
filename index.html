<html>
  <head>
  	<script src="cordova.js"></script>
  	<script src="libs/evothings/evothings.js"></script>
    <script src="libs/flot/jquery.js"></script>
    <script src="libs/flot/jquery.flot.js"></script>
    <script src="libs/flot/jquery.flot.time.js"></script>    
    <script src="libs/flot/jquery.flot.axislabels.js"></script>
  </head>

  <body>
    <div id="acceleration" style="width:100%;height:30%;"></div>
    <div id="peaks" style="width:100%;height:30%;"></div>
    <script src="graphs.js"></script>
    <script>
      function initialise() {
        initialiseAccelerometer()
      }

      function initialiseAccelerometer() {
        function onSuccess(acceleration) {
          var x = acceleration.x, 
              y = acceleration.y, 
              z = acceleration.z;
          
          updateData(Math.sqrt(x*x + y*y + z*z));
        }

        function onError(error) {
          hyper.log('Accelerometer error: ' + error)
        }

        navigator.accelerometer.watchAcceleration(
          onSuccess,
          onError,
          { frequency: 50 })
      }
      
      document.addEventListener(
        'deviceready',
        initialise,
        false)
        hyper.log("Starting")

      updateGraph();

    </script>
  
  </body>
</html>
